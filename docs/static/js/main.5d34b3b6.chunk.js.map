{"version":3,"sources":["util.ts","colors.ts","screens/Form.tsx","components/Heart.tsx","screens/Presentation.tsx","App.tsx","index.tsx"],"names":["encrypt","persons","json","JSON","stringify","data","btoa","token","MD5","update","digest","decrypt","atob","parse","generateLink","_encrypt","concat","window","location","origin","pathname","HEART","Container","styled","div","_templateObject","Center","_templateObject2","Row","_templateObject3","Label","label","_templateObject4","Input","input","attrs","type","_templateObject5","ShareLink","a","target","_templateObject6","Form","state","onFirstPersonNameChange","e","value","currentTarget","_this","length","setState","name","person","Object","objectSpread","newPersons","toConsumableArray","shift","onSecondPersonNameChange","pop","this","react_default","createElement","placeholder","onChange","validate","href","util","every","React","Component","Fly","keyframes","Heart_templateObject","Beat","Heart_templateObject2","OuterContainer","Heart_templateObject3","props","flying","css","Heart_templateObject4","delay","flyingSpeed","xDisplacement","Heart_templateObject5","beating","Heart_templateObject6","size","color","Heart","_this$props","className","children","Heart_Container","Presentation_templateObject","Title","Presentation_templateObject2","Presentation","title","map","join","Presentation_Container","Helmet","Heart_Heart","colors","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","urlParams","URLSearchParams","search","personsParam","get","console","info","Form_Form","Presentation_Presentation","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.5d34b3b6.chunk.js","sourcesContent":["import MD5 from \"md5.js\";\nimport Person from \"./Person\";\n\nexport const encrypt = (persons: Person[]) => {\n  const json = JSON.stringify(persons);\n  const data = btoa(json);\n  return {\n    data,\n    token: new MD5().update(data).digest(\"hex\")\n  };\n};\n\nexport const decrypt = (data: string, token: string): Person[] | null => {\n  if (new MD5().update(data).digest(\"hex\") !== token) return null;\n  const json = atob(data);\n  return JSON.parse(json);\n};\n\nexport const generateLink = (persons: Person[]) => {\n  const { data, token } = encrypt(persons);\n  return `${window.location.origin}${window.location.pathname}?data=${data}&token=${token}`;\n};","export const PRIMARY = \"#8E0012\";\nexport const HEART = [\n  PRIMARY,\n  \"#ff008a\",\n  \"#ff68ad\",\n  \"#ff6ec7\",\n  \"#d8256d\"\n];","import React from \"react\";\nimport Person from \"../Person\";\nimport * as util from \"../util\";\nimport * as colors from \"../colors\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100vw;\n  overflow-x: hidden;\n  overflow-y: auto;\n`;\n\nconst Center = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 10px 0 5px 0;\n`;\n\nconst Label = styled.label``;\n\nconst Input = styled.input.attrs({ type: \"text\" })`\n  border: 1px solid ${colors.PRIMARY};\n  padding: 3px;\n  flex: 1;\n  line-height: 20px;\n  min-width: 200px;\n  outline: 0;\n`;\n\nconst ShareLink = styled.a.attrs({ target: \"_blank\" })``;\n\ninterface State {\n  persons: Person[];\n}\n\nexport default class Form extends React.Component<{}, State> {\n  state: State = {\n    persons: []\n  };\n\n  render() {\n    const { persons } = this.state;\n\n    return (\n      <Container>\n        <Center>\n          <Row>\n            <Label>First person:</Label>\n            <Input placeholder=\"e.g. firstname, nickname\" onChange={this.onFirstPersonNameChange} />\n          </Row>\n          <Row>\n            <Label>Second person:</Label>\n            <Input placeholder=\"e.g. yourself, firstname, nickname\" onChange={this.onSecondPersonNameChange} />\n          </Row>\n\n          <div>\n            {this.validate() && <ShareLink href={util.generateLink(persons)}>Share link</ShareLink>}\n          </div>\n        </Center>\n      </Container>\n    );\n  }\n\n  validate() {\n    const { persons } = this.state;\n    return persons.length === 2 && persons.every(person => !!person && !!person.name);\n  }\n\n  onFirstPersonNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n\n    const { persons } = this.state;\n    if (persons.length === 0) {\n      this.setState({\n        persons: [{ name: value }]\n      });\n    }\n    else if (persons.length === 1 || persons.length === 2) {\n      const person = {\n        ...persons[0],\n        name: value\n      };\n\n      const newPersons = [\n        ...persons\n      ];\n      newPersons.shift();\n\n      this.setState({\n        persons: [\n          person,\n          ...newPersons\n        ]\n      });\n    }\n  }\n\n  onSecondPersonNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n\n    const { persons } = this.state;\n    if (persons.length === 0) {\n      this.setState({\n        persons: [\n          { name: \"\" },\n          { name: value }\n        ]\n      });\n    }\n    else if (persons.length === 1) {\n      const person = {\n        name: value\n      };\n      this.setState({\n        persons: [\n          ...persons,\n          person\n        ]\n      });\n    }\n    else if (persons.length === 2) {\n      const person = {\n        ...persons[1],\n        name: value\n      };\n\n      const newPersons = [\n        ...persons\n      ];\n      newPersons.pop();\n\n      this.setState({\n        persons: [\n          ...newPersons,\n          person\n        ]\n      });\n    }\n  }\n}","import React from \"react\";\nimport * as colors from \"../colors\";\nimport styled, { keyframes, css } from \"styled-components\";\n\nconst Fly = keyframes`\n  0% {\n    top: 110vh;\n  }\n\n  100% {\n    top: -10vh;\n  }\n`;\n\nconst Beat = keyframes`\n  0% {\n    transform: scale(0.75);\n  }\n\n  20% {\n    transform: scale(1);\n  }\n\n  40% {\n    transform: scale(0.75);\n  }\n  \n  60% {\n    transform: scale(1);\n  }\n  \n  80% {\n    transform: scale(0.75);\n  }\n  \n  100% {\n    transform: scale(0.75);\n  }\n`;\n\ninterface OuterContainerProps {\n  flying?: boolean;\n  flyingSpeed?: string;\n  xDisplacement?: string;\n  delay?: string;\n}\n\nconst OuterContainer = styled.div<OuterContainerProps>`\n  position: absolute;\n  top: 110vh;\n  left: calc(50vw - 50px);\n  ${props => props.flying ? css`\n    animation: ${Fly} ease-in infinite;\n    animation-delay: ${props.delay || \"0s\"};\n    animation-duration: ${props.flyingSpeed || \"10s\"};\n  ` : ``}\n  transform: translate3D(${props => props.xDisplacement ? props.xDisplacement : 0}, 0, 0);\n`;\n\ninterface ContainerProps {\n  color?: string;\n  beating?: boolean;\n  delay?: string;\n  size?: number;\n}\n\nconst Container = styled.div<ContainerProps>`\n  position: relative;\n  width: 100px;\n  height: 90px;\n  margin: 0;\n  ${props => props.beating ? css`\n    animation: ${Beat} 1s infinite;\n    animation-delay: ${props.delay || \"0s\"};\n  ` : ``}\n  transform: scale(${props => props.size || 1});\n\n  &:before, &:after {\n    position: absolute;\n    content: \"\";\n    left: 50px;\n    top: 0;\n    width: 50px;\n    height: 80px;\n    background: ${props => props.color || colors.PRIMARY};\n    border-radius: 50px 50px 0 0;\n    transform: rotate(-45deg);\n    transform-origin: 0 100%;\n  }\n\n  &:after {\n    left: 0;\n    transform: rotate(45deg);\n    transform-origin: 100% 100%;\n  }\n`;\n\ninterface Props {\n  className?: string;\n  color?: string;\n  beating?: boolean;\n  flying?: boolean;\n  flyingSpeed?: string;\n  xDisplacement?: string;\n  delay?: string;\n  size?: number;\n}\n\nexport default class Heart extends React.Component<Props> {\n  render() {\n    const {\n      className,\n      children,\n      color,\n      beating,\n      flying,\n      flyingSpeed,\n      xDisplacement,\n      delay,\n      size\n    } = this.props;\n    return (\n      <OuterContainer flying={flying} flyingSpeed={flyingSpeed} xDisplacement={xDisplacement} delay={delay}>\n        <Container className={className} color={color} beating={beating} delay={delay} size={size}>\n          {children}\n        </Container>\n      </OuterContainer>\n    );\n  }\n}","import React from \"react\";\nimport Person from \"../Person\";\nimport * as util from \"../util\";\nimport * as colors from \"../colors\";\nimport styled from \"styled-components\";\nimport Heart from \"../components/Heart\";\nimport { Helmet } from \"react-helmet\";\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n`;\n\nconst Title = styled.div`\n  margin-top: -0.5em;\n  font-size: 40px;\n  font-weight: 600;\n  white-space: nowrap;\n`;\n\ninterface Props {\n  persons: Person[];\n}\n\nexport default class Presentation extends React.Component<Props> {\n  render() {\n    const { persons } = this.props;\n\n    const title = `${persons.map(person => person.name).join(\" & \")}`;\n\n    return (\n      <Container>\n        <Helmet title={`${title} - ❤ Love 💕`} />\n\n        <Title>❤ {title} 💕</Title>\n\n        <Heart flying delay=\"6s\" flyingSpeed=\"8s\" xDisplacement=\"-48vw\" color={colors.HEART[1]} size={0.5} />\n        <Heart flying delay=\"4s\" flyingSpeed=\"4s\" xDisplacement=\"-25vw\" color={colors.HEART[2]} size={0.5} />\n        <Heart flying beating />\n        <Heart flying delay=\"3.6s\" flyingSpeed=\"6s\" xDisplacement=\"25vw\" color={colors.HEART[3]} size={0.5} />\n        <Heart flying delay=\"9s\" flyingSpeed=\"5s\" xDisplacement=\"48vw\" color={colors.HEART[4]} size={0.5} />\n      </Container>\n    );\n  }\n}","import React from \"react\";\nimport Person from \"./Person\";\nimport * as util from \"./util\";\nimport Form from \"./screens/Form\";\nimport Presentation from \"./screens/Presentation\";\n\ninterface State {\n  persons: Person[];\n}\n\nexport default class App extends React.Component<{}, State> {\n  state: State = {\n    persons: []\n  };\n\n  constructor(props: {}) {\n    super(props);\n\n    const urlParams = new URLSearchParams(window.location.search);\n\n    const personsParam = urlParams.get(\"persons\");\n    if (personsParam) console.info(util.encrypt(JSON.parse(personsParam)));\n\n    const data = urlParams.get(\"data\");\n    const token = urlParams.get(\"token\");\n    if (data && token) this.state.persons = util.decrypt(data, token) || [];\n  }\n\n  render() {\n    const { persons } = this.state;\n    if(persons.length === 0) return <Form />;\n\n    return (\n      <Presentation persons={persons} />\n    );\n  }\n}\n","import App from \"./App\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}